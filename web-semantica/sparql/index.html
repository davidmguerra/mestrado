<!doctype xhtml>
<html lang="pt-BR">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <script src="../../libs/utils.js"></script>
  <script src="main.js"></script>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="../../libs/bootstrap/bootstrap.min.css">
  <style>
    .card-body a {
      text-decoration: none !important;
    }

    .card-body pre {
      padding: 12px;
    }
  </style>
</head>

<body>

  <div class="container">

    <div class="row">
      <div class="col-12">
        <h1 class="pt-3">SPARQL
      </div>
      
      <div class="accordion w-100" id="consultas">
        <div class="col-12">
          <h2 class="pt-3 pb-3">Consultas insólitas</h2>
        </div>
        <div class="card">
          <div class="card-header">
            <h5 class="mb-0">
              <button data-target="#insolita1" class="btn btn-link collapsed text-left" type="button"
                data-toggle="collapse">
                Pessoas que nasceram no mesmo dia que eu e que moram no Brasil
              </button>
            </h5>
          </div>
          <div id="insolita1" class="collapse" data-parent="#consultas">
            <div class="card-body">
              <div class="text-right pr-2">
                <a href="#" class="" onclick="openLink(this, event)">Abrir</a>
              </div>
              <pre><script>
                writeHTML(`SELECT ?name ?birth ?death ?person 
WHERE {      
  ?person dbo:birthDate ?birth .      
  ?person foaf:name ?name .      
  ?person dbo:birthPlace :Brazil .      
  OPTIONAL { ?person dbo:deathDate ?death } .      
  FILTER (?birth = "1981-05-31"^^xsd:date) . 
} 
ORDER BY ?death ?name`);
              </script></pre>
            </div>
          </div>
        </div>
        <div class="col-12">
          <h2 class="pt-3 pb-3">Consultas de exemplo</h2>
        </div>
        <div class="card">
          <div class="card-header">
            <h5 class="mb-0">
              <button data-target="#exemplo1" class="btn btn-link collapsed text-left" type="button"
                data-toggle="collapse">
                Jogador de futebol, que nascem em um país com mais de 10 milhões de habitantes, que jogou como goleiro
                de um clube que tem um estádio com mais de 30.000 lugares e o país do clube é diferente do país de
                nascimento
              </button>
            </h5>
          </div>
          <div id="exemplo1" class="collapse" data-parent="#consultas">
            <div class="card-body">
              <div class="text-right pr-2">
                <a href="#" class="" onclick="openLink(this, event)">Abrir</a>
              </div>
              <pre><script>
                writeHTML(`SELECT distinct ?soccerplayer ?countryOfBirth ?team ?countryOfTeam ?stadiumcapacity
{ 
  ?soccerplayer a dbo:SoccerPlayer ;
  dbo:position|dbp:position <http://dbpedia.org/resource/Goalkeeper_(association_football)> ;
  dbo:birthPlace/dbo:country* ?countryOfBirth ;
  #dbo:number 13 ;
  dbo:team ?team .
  ?team dbo:capacity ?stadiumcapacity ; dbo:ground ?countryOfTeam . 
  ?countryOfBirth a dbo:Country ; dbo:populationTotal ?population .
  ?countryOfTeam a dbo:Country .
  FILTER (?countryOfTeam != ?countryOfBirth)
  FILTER (?stadiumcapacity > 30000)
  FILTER (?population > 10000000)
} order by ?soccerplayer `);
              </script></pre>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-header" id="headingThree">
            <h5 class="mb-0">
              <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#exemplo2">
                Pessoas que nasceram em Berlim antes de 1900
              </button>
            </h5>
          </div>
          <div id="exemplo2" class="collapse" data-parent="#consultas">
            <div class="card-body">
              <div class="text-right pr-2">
                <a href="#" class="" onclick="openLink(this, event)">Abrir</a>
              </div>
              <pre><script>
                writeHTML(`SELECT ?name ?birth ?death ?person 
WHERE {      
  ?person dbo:birthPlace :Berlin .      
  ?person dbo:birthDate ?birth .      
  ?person foaf:name ?name .      
  ?person dbo:deathDate ?death .      
  FILTER (?birth < "1900-01-01"^^xsd:date) . 
} 
ORDER BY ?name`);
              </script></pre>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="../../libs/jquery/jquery-3.3.1.slim.min.js"></script>
  <script src="../../libs/bootstrap/popper.min.js"></script>
  <script src="../../libs/bootstrap/bootstrap.min.js"></script>

</body>

</html>